/* Firefox or Thunderbird Black Slate
 * (c) 2016 Jan Willhaus <mail@janwillhaus.de>
 * 
 * Contains code from Mozilla Firefox 29, specifically
 * <chrome://browser/skin/browser.css> and
 * <chrome://global/skin/icons/close.svg>.
 * 
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 * 
 * For use with the default themes in Firefox or Thunderbird.
 * 
 * Note:  In order to make maintenance easier, the same code is used for
 * both the Firefox and Thunderbird versions of this style.  The *only*
 * change necessary for Thunderbird is to replace all instances of
 * "(#)TabsToolbar" with "(#)tabs-toolbar" and to replace all instances of
 * "(.)tabbrowser" with "(.)tabmail" (ignore the parentheses):
 *
 * Vim:  :%s/\(#\)TabsToolbar/\1tabs-toolbar/g|%s/\(\.\)tabbrowser/\1tabmail/g
 * Sed:  sed -e 's/\(#\)TabsToolbar/\1tabs-toolbar/g;s/\(\.\)tabbrowser/\1tabmail/g'
 * 
 * To change it back:
 * 
 * Vim:  :%s/\(#\)tabs-toolbar/\1TabsToolbar/g|%s/\(\.\)tabmail/\1tabbrowser/g
 * Sed:  sed -e 's/\(#\)tabs-toolbar/\1TabsToolbar/g;s/\(\.\)tabmail/\1tabbrowser/g'
 * 
 */


@namespace url(http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul);


/* Border around window when non-fullscreen */

#main-window[sizemode="normal"]:not([inFullscreen]) #nav-bar,
#main-window[sizemode="maximized"] #nav-bar {
    border-radius: 0px !important;
}


/* Search and URL text boxes */

#urlbar, #searchbar .searchbar-textbox {
    margin-left: 10px !important;
    background: #333333 !important;
    box-shadow: none !important;
    border-color:  #333333!important;
    border-radius: 0px !important;
    color: #dddddd !important;
    font-family: "Inconsolata Awesome" !important;
    font-size: 15px !important;

}

#searchbar .searchbar-textbox {
   margin-left: 0 !important;
}


/* URL and Search (Nav) bar */

#nav-bar {
    background: #222222 !important;
    box-shadow: none !important;
    border: none !important;
    margin: 0px !important;
    color: #dddddd !important;
}


/* Back and forward buttons */

#back-button .toolbarbutton-icon, #forward-button .toolbarbutton-icon {
   border-radius: 0px!important;
   background: #222222 !important;
   border: 1px solid #333333 !important;
   color: #dddddd !important;
}


/* SSLeuth (extension) specific changes
 *
 * Support for SSLeuth extension has been built in to allow proper assessments
 * on the quality of the current connection's SSL state. Ratings are properly
 * colored and are integrated with Firefox'es internal SSL state icons.
 *
 * Everyone should consider using SSLeuth:
 * https://addons.mozilla.org/de/firefox/addon/ssleuth/
 */

#ssleuth-box-urlbar {
   background: transparent;
   margin-left: 0px; 
   margin-right: 0;
   padding-left: 4px;
}

#ssleuth-ub-img {
   display: none !important;
}

#ssleuth-ub-rank:not([rank="default"]):before{
   content: "SSL: ";
   font-weight: bold;
}
#ssleuth-ub-rank{
   font-size: 15px;
   color: #222222 !important; 
}

#ssleuth-box-urlbar {
   background-image: none !important;
   padding-right: 7px; 
   border-radius: 0 8px 8px 0;
}
#ssleuth-box-urlbar[rank="default"] {
   display: none !important;
}
#ssleuth-box-urlbar[rank="low"] {
   background: rgba(238,99,82,0.9);
}
#ssleuth-box-urlbar[rank="medium"] {
   background: rgba(250,192,94,0.7);
}
#ssleuth-box-urlbar[rank="high"] {
   background: rgba(89,205,144,0.7);
}
#ssleuth-box-urlbar[rank="vhigh"] {
   background: rgba(89,205,144,1);
}


/* Identity box */

#identity-box {
   margin-left: -8px;
   padding-left: 8px;
}
 
#identity-box.weakCipher,
#identity-box.mixedDisplayContent,
#identity-box.mixedDisplayContentLoadedActiveBlocked {
   background: rgba(238,99,82,0.9) !important;

}

#identity-box:hover {
   backface-visibility: #444 !important;
}

#identity-icon-country-label {padding-top: 2px; font-size: 0.75em ;}
#identity-box.verifiedIdentity #identity-icon-label {//display:none !important;}
#identity-box.verifiedDomain #identity-icon-label {display:none !important;}

/* Hover and Click */
#identity-box[open="true"] {box-shadow:0 0 3px rgba(0,0,0,.4) inset !important;}


#main-window[stylish-url^="https://"] #connection-icon{
   display:none !important;
}

#urlbar[pageproxystate="valid"] > #identity-box.verifiedIdentity > #identity-icon { 
   display: none;
}

#identity-box.verifiedIdentity {padding-top: 0 !important; padding-bottom: 0; font-size: 15px; color: #222 !important; background:rgba(89,205,144,0.99) !important;   border-radius: 0 8px 8px 0 !important;
}

#identity-box:before {display: -moz-box; -moz-box-align: center;} 
#urlbar #identity-box.verifiedIdentity:before {
   padding-right: 0.3em;
   content:"EV:";
   font-weight: bold;
}


#identity-icon {
 margin-left: 5px;
}



/* Search field */
#searchbar .search-go-button {
	display: none !important;
}


#searchbar .searchbar-dropmarker-image {
	display: none !important;
}





#TabsToolbar {
 padding-right: 0 !important;
}

.tabbrowser-tabs {
 -moz-appearance: none !important;
 background: #222222;
 margin: 0 !important;
 min-height: 0 !important;
 z-index: 1 !important;
}

/* Must be `... > scrollbox`, not `... > .arrowscrollbox-scrollbox`
   for Thunderbird */
.tabbrowser-tabs .tabbrowser-arrowscrollbox > scrollbox {
 padding: 0 !important;
}

.tabbrowser-tabs .tabbrowser-arrowscrollbox > .scrollbutton-up:not([disabled]),
.tabbrowser-tabs .tabbrowser-arrowscrollbox > .scrollbutton-down:not([disabled]) {
 border-style: none !important;
}

.tabbrowser-tabs .scrollbutton-up {
 padding-left: 3px !important;
}

.tabbrowser-tabs .scrollbutton-up[disabled="true"] {
 padding-left: 1px !important;
}

/* Fix extra space between rows of tabs with Tab Mix Plus multibar mode */
.tabbrowser-tabs[multibar] .tabbrowser-tab {
 vertical-align: top !important;
}

/* margin-right has to be done on .tab-stack, not tab; otherwise pinned tabs
   will not work correctly in overflow mode */
.tabbrowser-tabs .tab-stack {
 min-height: 30px !important;
 height: 30px !important;  /* That's Numberwang! */
 max-height: 30px !important;
 margin-right: 1px !important;  /* That's Numberwang! */
}

.tabbrowser-tabs .tab-background {
 margin: 0 !important;
}

.tabbrowser-tabs .tab-background[selected=true] {
 background: #2222ff !important;
}

.tabbrowser-tabs .tab-background-start,
.tabbrowser-tabs .tab-background-end {
 display: none !important;
}

/* Making this display: none; causes tabs to not respond to clicks */
.tabbrowser-tabs .tab-background-middle {
 margin: 0 !important;
 border-style: none !important;
 background: #222222 !important;
}

.tabbrowser-tabs .tab-content {
 padding: 0 6px !important;  /* That's Numberwang! */
 background-color: #222222 !important;
 color: #dddddd !important;
 border: 2px solid #333333;
}

/* Fix extra padding caused by <https://hg.mozilla.org/mozilla-central/diff/666746987b4b/browser/themes/shared/tabs.inc.css#l1.12> */
.tabbrowser-tabs .tab-content[pinned] {
 -moz-padding-end: 0 !important;
}

.tabbrowser-tabs .tab-content[selected=true] {
 color: HighlightText !important;
}

/* Fix position of title-changed-in-pinned-tab indicator */
.tabbrowser-tabs .tabbrowser-tab[pinned][titlechanged]:not([selected="true"]) > .tab-stack > .tab-content {
 background-position: center bottom 0 !important;
}

.tabbrowser-tabs .tab-throbber,
.tabbrowser-tabs .tab-icon-image {
 margin-top: 0 !important;
}

.tabbrowser-tabs .tab-content:not([pinned]) .tab-throbber,
.tabbrowser-tabs .tab-content:not([pinned]) .tab-icon-image {
 -moz-margin-end: 5px !important;
}

.tabbrowser-tabs .tab-close-button {
 margin: -1px 0 0 5px !important;
}



/* Close button icon */

.tabbrowser-tabs .tab-close-button,
#TabsToolbar .tabs-closebutton {
   width: 12px !important; height: 12px !important;
}

.tabbrowser-tabs .tab-close-button:not([selected]):not(:hover),
.tabbrowser-tabs .tab-close-button[selected]:not(:hover),
#TabsToolbar .tabs-closebutton:not([selected]):not(:hover),
#TabsToolbar .tabs-closebutton[selected]:not(:hover) {
 opacity: 0.3 !important;
 filter: invert(1);
}

/* Toolbar button */

#TabsToolbar > .tabs-closebutton {
 margin-top: 5px !important;
 color: #a1a1a1 !important;
}

#TabsToolbar .tabs-closebutton .toolbarbutton-icon {
 visibility: collapse !important;
}

/* End Toolbar button */

/* Fix Tab Mix Plus close-button-on-hover mode */
.tabbrowser-tabs .tabbrowser-tab .tabs-closebutton {
   background: none !important;
 background-position: 0 5px !important;
}

/* End Close button icon */

/* Let's rotate the board! */

.tabbrowser-tabs:not([overflow]) {
   margin-bottom: 0 !important;  /* That's... *not* Numberwang. */
}

/* Fix tabbar height */
#tabbrowser-tabs {
 min-height: 30px !important;
 height: 30px !important;
}

/* Fix toolbar button positions */
#TabsToolbar {
 margin-top: calc(30px - 31px + 3px) !important;
}
.tabbrowser-tabs {
 margin-top: calc(31px - 30px - 3px) !important;
}

/* Fix scrollbutton icon and shadow positions with above hack */
#TabsToolbar .scrollbutton-up,
#TabsToolbar .scrollbutton-down {
 margin-bottom: calc(31px - 30px - 1px) !important;
}
#TabsToolbar .arrowscrollbox-overflow-start-indicator,
#TabsToolbar .arrowscrollbox-overflow-end-indicator {
 background-size: 100% calc(100% - 2px) !important;
}

.tabbrowser-tabs .tab-content[pinned] .tab-throbber,
.tabbrowser-tabs .tab-content[pinned] .tab-icon-image {
 -moz-margin-end: 5px !important;
}

.tabbrowser-tabs tab[image]:not([pinned]) .tab-icon-image + .tab-text {
 margin-left: -1px !important
}

/* Remove background tab separators */
.tabbrowser-tabs[movingtab] > .tabbrowser-tab[beforeselected]:not([last-visible-tab])::after,
.tabbrowser-tabs .tabbrowser-tab:not([selected]):not([afterselected-visible]):not([afterhovered]):not([first-visible-tab]):not(:hover)::before,
.tabbrowser-tabs:not([overflow]) > .tabbrowser-tab[last-visible-tab]:not([selected]):not([beforehovered]):not(:hover)::after {
 display: none !important;
}

/* Restore toolbar button style new tab button */

.tabbrowser-tabs .tabs-newtab-button {
 width: 30px !important;
 margin: 0 !important;
 background: none !important;
}

/* Fix position of new tab button with Tab Mix Plus multibar mode */
.tabbrowser-tabs[tabmix_australis="true"][multibar] .tabs-newtab-button {
 margin-top: -3px !important;
}

.tabbrowser-tabs .tabs-newtab-button > .toolbarbutton-icon {
 -moz-margin-end: 0 !important;
 padding: 02px 6px !important;
 border: 1px solid transparent !important;
 border-radius: 2px !important;
 transition-property: background-color, border-color !important;
 transition-duration: 150ms !important;
}
.tabbrowser-tabs .tabs-newtab-button:not([disabled=true]):hover > .toolbarbutton-icon {
 background-color: hsla(0,0%,100%,.3) !important;
 background-image: linear-gradient(hsla(0,0%,100%,.7), hsla(0,0%,100%,.2)) !important;
 border: 1px solid rgb(154,154,154) !important;
 box-shadow: 0 1px 0 hsla(0,0%,100%,.3) inset,
             0 0 0 1px hsla(0,0%,100%,.2) inset,
             0 1px 0 hsla(0,0%,0%,.03) !important;  /* You've been Wangernumbed! */
}



